<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<groupId>net.nhs.cfh.deploy</groupId>
	<artifactId>wb-deploy</artifactId>
	<version>1.00</version>
	<packaging>pom</packaging>
	<name>The NHS WorkBench Deploy</name>
	<description>A Deployment build for the Workbench</description>
	<scm>
	<!-- TODO parameterise the SCM details --> 
		<connection>scm:svn:https://csfe.aceworkspace.net/svn/repos/workbench/branches/wb-toolkit_trek_mirror_UK</connection>
		<developerConnection>scm:svn:https://csfe.aceworkspace.net/svn/repos/workbench/branches/wb-toolkit_trek_mirror_UK</developerConnection>
	<!-- <url>https://csfe.aceworkspace.net/sf/scm/do/listRepositories/projects.ihtsdo_subset_editor/scm</url>-->
	</scm>
	<properties>
		<!-- ant deploy properties -->
		<!-- Run the Ant Script? Values: yes or no -->
		<runAntDeploy>no</runAntDeploy>
		<!--
			Delete the old BDB directory and copy in a new one? Values : yes or
			no
		-->
		<AntDeployRebuildBDB>no</AntDeployRebuildBDB>
		<!--
			The Directory where the BDB files to be copied in are held. Values :
			FilePath
		-->
		<AntDeployRebuildBDB_Dir>D:/adam/Share/bdb/2010-05-04-All+CrossLInks</AntDeployRebuildBDB_Dir>
		<!--
			Create a zip file (will not include the BDB Dir)? Values : yes or no
		-->
		<AntDeployCreateZip>no</AntDeployCreateZip>
		<!-- The Folder to output the Zip file to. Values : FilePath -->
		<AntDeployCreateZip_Dir>D:/adam/Test/TestInstance/zips</AntDeployCreateZip_Dir>
		<!-- The path to the default Workbench instance. Values : FilePath -->
		<!--  <AntDeployWorkBenchDeploy_Dir>D:/adam/Test/TestInstance/nhs-subset-editor-sa-bundle</AntDeployWorkBenchDeploy_Dir> -->
		<!--  <AntDeployWorkBenchDeploy_Dir>D:/adam/Test/TestInstance/wb-bundle-test/wb-bundle</AntDeployWorkBenchDeploy_Dir> -->
		<!--  <AntDeployWorkBenchDeploy_Dir>D:\adam\Test\TestInstance\trekbuilds\dev</AntDeployWorkBenchDeploy_Dir> -->
		<!-- <AntDeployWorkBenchDeploy_Dir>D:\Data\Terminology\WB_Builds\trektest\editor-sync-1.0.1-SNAPSHOT-assembly</AntDeployWorkBenchDeploy_Dir>  -->
		<AntDeployWorkBenchDeploy_Dir>D:\Data\Terminology\WB_Builds\trektest\release</AntDeployWorkBenchDeploy_Dir> 
		<!-- Run workbench? Values :  yes or no -->
		<AntDeployExec>no</AntDeployExec>
		
    <org.drools.version>5.4.0.Final</org.drools.version>
    <svnkit.version>1.3.5</svnkit.version>
    <org.apache.lucene.version>3.5.0</org.apache.lucene.version>
    <wb-icons-version>1.0.9</wb-icons-version>	
	<org.dwfa.jini.version>2.1</org.dwfa.jini.version>
	<org.mvel.version>2.1.0.drools16</org.mvel.version>
       
    <poi.version>3.7</poi.version>
    <tika.version>0.4</tika.version>			
	</properties>
	<profiles>
		<profile>
			<activation>
				<property>
					<name>!workbench.version</name>
				</property>
			</activation>
			<properties>
				<custom-ui.version>0.0.5-NHS-SNAPSHOT</custom-ui.version>
				<workbench.version>2.6.0-trek-uk-76-SNAPSHOT</workbench.version>
			</properties>
		</profile>
	</profiles>
	<dependencies>
		<!-- Why is the com.sun jar set as org.dwfa.jini? -->
		<dependency>
			<groupId>com.sun.jini</groupId>
			<artifactId>start</artifactId>
			<version>2.1</version>
		</dependency>
		<dependency>
			<groupId>org.ihtsdo</groupId>
			<artifactId>wb-bdb</artifactId>
			<version>${workbench.version}</version>
		</dependency>
		
	   <dependency>
        <groupId>org.ihtsdo</groupId>
        <artifactId>wb-icons</artifactId>
        <version>${wb-icons-version}</version>
      </dependency>
		
		<!-- From editor-sync -->
		
		<dependency>
        <groupId>org.dwfa.jini</groupId>
        <artifactId>jsk-dl</artifactId>
        <version>${org.dwfa.jini.version}</version>
      </dependency>
		
		<dependency>
            <groupId>org.apache.lucene</groupId>
            <artifactId>lucene-highlighter</artifactId>
            <version>${org.apache.lucene.version}</version>
            <exclusions>
                <exclusion>
                    <groupId>org.apache.lucene</groupId>
                    <artifactId>lucene-memory</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>org.apache.lucene</groupId>
            <artifactId>lucene-spellchecker</artifactId>
            <version>${org.apache.lucene.version}</version>
        </dependency>
        <dependency>
            <groupId>org.apache.tika</groupId>
            <artifactId>tika-core</artifactId>
            <version>${tika.version}</version>
        </dependency>
        <dependency>
            <groupId>commons-codec</groupId>
            <artifactId>commons-codec</artifactId>
            <version>1.4</version>
        </dependency>
        <dependency>
            <groupId>org.apache.tika</groupId>
            <artifactId>tika-parsers</artifactId>
            <version>${tika.version}</version>
            <exclusions>
                <exclusion>
                    <groupId>asm</groupId>
                    <artifactId>asm</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>log4j</groupId>
                    <artifactId>log4j</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.apache.commons</groupId>
                    <artifactId>commons-compress</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>net.sourceforge.nekohtml</groupId>
                    <artifactId>nekohtml</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.apache.geronimo.specs</groupId>
                    <artifactId>geronimo-stax-api_1.0_spec</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>org.apache.poi</groupId>
            <artifactId>poi</artifactId>
            <version>${poi.version}</version>
        </dependency>
        <dependency>
            <groupId>pdfbox</groupId>
            <artifactId>pdfbox</artifactId>
            <version>0.7.3</version>
        </dependency>
        <dependency>
            <groupId>org.fontbox</groupId>
            <artifactId>fontbox</artifactId>
            <version>0.1.0</version>
        </dependency>
        <dependency>
            <groupId>org.apache.poi</groupId>
            <artifactId>poi-scratchpad</artifactId>
            <version>${poi.version}</version>
            <exclusions>
                <exclusion>
                    <groupId>log4j</groupId>
                    <artifactId>log4j</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>org.apache.poi</groupId>
            <artifactId>poi-ooxml</artifactId>
            <version>${poi.version}</version>
            <exclusions>
                <exclusion>
                    <groupId>dom4j</groupId>
                    <artifactId>dom4j</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
        <dependency>
            <groupId>org.apache.poi</groupId>
            <artifactId>poi-ooxml-schemas</artifactId>
            <version>${poi.version}</version>
            <exclusions>
                <exclusion>
                    <groupId>org.apache.xmlbeans</groupId>
                    <artifactId>xmlbeans</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>stax</groupId>
                    <artifactId>stax-api</artifactId>
                </exclusion>
                <exclusion>
                    <groupId>org.apache.geronimo.specs</groupId>
                    <artifactId>geronimo-stax-api_1.0_spec</artifactId>
                </exclusion>
            </exclusions>
        </dependency>
		
		
		<dependency>
			<groupId>ant-contrib</groupId>
			<artifactId>ant-contrib</artifactId>
			<version>1.0b3</version>
			<exclusions>
				<exclusion>
					<groupId>ant</groupId>
					<artifactId>ant</artifactId>
				</exclusion>
			</exclusions>
		</dependency>
		<dependency>
			<groupId>ant</groupId>
			<artifactId>ant-nodeps</artifactId>
			<version>1.6.5</version>
		</dependency>
	</dependencies>
	<build>
		<!--  <resources>
			<resource>
				<directory>./TextFiles</directory>
			</resource> 
		</resources> -->
		<plugins>

			<!-- Export the task beans -->
			<plugin>
				<groupId>org.ihtsdo</groupId>
				<artifactId>wb-mojo</artifactId>
				<version>${workbench.version}</version>
				<executions>
					<execution>
						<id>export-task-classes</id>
						<phase>generate-sources</phase>
						<goals>
							<goal>export-beans</goal>
						</goals>
						<configuration>
							<targetSubDir>generated-resources</targetSubDir>
						</configuration>
					</execution>
				</executions>
			</plugin>

			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-compiler-plugin</artifactId>
				<version>2.3.2</version>
				<configuration>
					<source>1.6</source>
					<target>1.6</target>
				</configuration>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-dependency-plugin</artifactId>
				<executions>
					<execution>
						<id>copy-dependencies</id>
						<phase>package</phase>
						<goals>
							<goal>copy-dependencies</goal>
						</goals>
						<configuration>
							<outputDirectory>${project.build.directory}</outputDirectory>
							<overWriteReleases>false</overWriteReleases>
							<overWriteSnapshots>false</overWriteSnapshots>
							<overWriteIfNewer>true</overWriteIfNewer>
						</configuration>
					</execution>
				</executions>
			</plugin>
			<plugin>
				<groupId>org.apache.maven.plugins</groupId>
				<artifactId>maven-antrun-plugin</artifactId>
				<version>1.5</version>
				<executions>
					<execution>
						<id>build-release</id>
						<phase>verify</phase>
						<goals>
							<goal>run</goal>
						</goals>
						<configuration>
							<!--
								<tasks> <echo>ANT Build Dir: ${basedir}</echo> </tasks>
							-->
							<target>
								<property name="project.classpath" refid="maven.runtime.classpath" />
								<property name="task.execute.bl" value="${runAntDeploy}" />
								<property name="rebuild.bdb.bl" value="${AntDeployRebuildBDB}" />
								<property name="rebuild.bdb.dir" value="${AntDeployRebuildBDB_Dir}" />
								<property name="zip.bl" value="${AntDeployCreateZip}" />
								<property name="output.dir" value="${AntDeployCreateZip_Dir}" />
								<property name="wb.dir" value="${AntDeployWorkBenchDeploy_Dir}" />
								<property name="exec.bl" value="${AntDeployExec}" />
								<ant antfile="${basedir}/deployWB.xml" target="init"
									inheritRefs="true" />
							</target>
						</configuration>
					</execution>
				</executions>
			</plugin>
		</plugins>
	</build>
</project>
